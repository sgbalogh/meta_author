<div id="map">
  <script>

      var center = <%= @centroid %>;
      var map = L.map('map').setView(center, <%= @zoom %>);

      L.tileLayer('https://cartodb-basemaps-{s}.global.ssl.fastly.net/light_all/{z}/{x}/{y}.png', {
          attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, &copy; <a href="http://cartodb.com/attributions">CartoDB</a>',
          maxZoom: 18,
          detectRetina: true,
      }).addTo(map);


      var preview = L.tileLayer.wms('https://maps-public.geo.nyu.edu/geoserver/sdr/wms', {
          layers: 'sdr:nyu_2451_33888',
          format: 'image/png',
          transparent: true,
          detectRetina: true,
      }).addTo(map);



      <% if !@polygon.nil? %>
      var polygon = L.polygon(<%= @polygon %>).addTo(map);
      map.fitBounds(polygon);
      <% end %>
          

  </script>
</div>

<div class="row">
  <div class="col-md-8">
    <div class="panel panel-default">
      <div class="panel-heading"><h4><%= @record.dc_title_s %><br><code><%= @record.uuid %></code></h4></div>
      <table class="table table-striped table-hover table-bordered">
        <% @record.attributes.each do |key, value| %>
            <tr>
              <td><b><%= translate(key) %></b></td>
              <td><%= key %></td>
              <td><code><%= value %></code></td>
            </tr>
        <% end %>
      </table>

    </div>
  </div>

  <div class="col-md-4">
    <div class="list-group">
      <a href="#" class="list-group-item">
        Edit Record
      </a>
      <a href="?format=json" class="list-group-item">Export JSON</a>
      <a href="#" class="list-group-item active">Open on OGM</a>

    </div>
  </div>

</div>


